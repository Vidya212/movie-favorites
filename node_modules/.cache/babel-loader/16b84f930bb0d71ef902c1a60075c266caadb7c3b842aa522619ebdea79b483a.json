{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\saivi\\\\movie-favorites\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport SearchBar from './components/SearchBar';\nimport MovieGrid from './components/MovieGrid';\nimport Favorites from './components/Favorites';\nimport MovieModal from './components/MovieModal';\nimport { searchMovies, getMovieById } from './api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [query, setQuery] = useState('');\n  const [movies, setMovies] = useState([]); // array of detailed movie objects\n  const [favorites, setFavorites] = useState(() => {\n    try {\n      return JSON.parse(localStorage.getItem('favs') || '[]');\n    } catch {\n      return [];\n    }\n  });\n  const [loading, setLoading] = useState(false);\n  const [modalMovie, setModalMovie] = useState(null);\n  useEffect(() => {\n    localStorage.setItem('favs', JSON.stringify(favorites));\n  }, [favorites]);\n  async function handleSearch(q) {\n    setQuery(q);\n    setLoading(true);\n    setMovies([]);\n    const res = await searchMovies(q);\n    if (!res || res.Response === 'False') {\n      setLoading(false);\n      alert((res === null || res === void 0 ? void 0 : res.Error) || 'No movies found'); // per requirement: display alert if no movies found.\n      return;\n    }\n    // res.Search contains basic fields; fetch details for genre + full info\n    const detailPromises = res.Search.map(item => getMovieById(item.imdbID));\n    const details = await Promise.all(detailPromises);\n    setMovies(details);\n    setLoading(false);\n  }\n  function toggleFav(movie) {\n    setFavorites(prev => {\n      const exists = prev.some(m => m.imdbID === movie.imdbID);\n      if (exists) return prev.filter(m => m.imdbID !== movie.imdbID);\n      // store minimal fields and full info optionally\n      return [movie, ...prev];\n    });\n  }\n  async function showDetails(imdbID) {\n    setLoading(true);\n    const detail = await getMovieById(imdbID);\n    setModalMovie(detail);\n    setLoading(false);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Movie Search & Favorites\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SearchBar, {\n        onSearch: handleSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"results\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Results \", query ? `for \"${query}\"` : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loader\",\n          children: \"Loading\\u2026\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 23\n        }, this), !loading && /*#__PURE__*/_jsxDEV(MovieGrid, {\n          movies: movies,\n          favorites: favorites,\n          onToggleFav: toggleFav,\n          onShowDetails: showDetails\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 24\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n        children: /*#__PURE__*/_jsxDEV(Favorites, {\n          favorites: favorites,\n          onToggleFav: toggleFav,\n          onShowDetails: showDetails\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MovieModal, {\n      movie: modalMovie,\n      onClose: () => setModalMovie(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      children: /*#__PURE__*/_jsxDEV(\"small\", {\n        children: \"Built following the task spec.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"qs0s35nr5SssPe7/yRlZhGjV7zk=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","SearchBar","MovieGrid","Favorites","MovieModal","searchMovies","getMovieById","jsxDEV","_jsxDEV","App","_s","query","setQuery","movies","setMovies","favorites","setFavorites","JSON","parse","localStorage","getItem","loading","setLoading","modalMovie","setModalMovie","setItem","stringify","handleSearch","q","res","Response","alert","Error","detailPromises","Search","map","item","imdbID","details","Promise","all","toggleFav","movie","prev","exists","some","m","filter","showDetails","detail","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSearch","onToggleFav","onShowDetails","onClose","_c","$RefreshReg$"],"sources":["C:/Users/saivi/movie-favorites/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport SearchBar from './components/SearchBar';\r\nimport MovieGrid from './components/MovieGrid';\r\nimport Favorites from './components/Favorites';\r\nimport MovieModal from './components/MovieModal';\r\nimport { searchMovies, getMovieById } from './api';\r\n\r\nexport default function App() {\r\n  const [query, setQuery] = useState('');\r\n  const [movies, setMovies] = useState([]); // array of detailed movie objects\r\n  const [favorites, setFavorites] = useState(() => {\r\n    try {\r\n      return JSON.parse(localStorage.getItem('favs') || '[]');\r\n    } catch { return []; }\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [modalMovie, setModalMovie] = useState(null);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('favs', JSON.stringify(favorites));\r\n  }, [favorites]);\r\n\r\n  async function handleSearch(q) {\r\n    setQuery(q);\r\n    setLoading(true);\r\n    setMovies([]);\r\n    const res = await searchMovies(q);\r\n    if (!res || res.Response === 'False') {\r\n      setLoading(false);\r\n      alert(res?.Error || 'No movies found'); // per requirement: display alert if no movies found.\r\n      return;\r\n    }\r\n    // res.Search contains basic fields; fetch details for genre + full info\r\n    const detailPromises = res.Search.map(item => getMovieById(item.imdbID));\r\n    const details = await Promise.all(detailPromises);\r\n    setMovies(details);\r\n    setLoading(false);\r\n  }\r\n\r\n  function toggleFav(movie) {\r\n    setFavorites(prev => {\r\n      const exists = prev.some(m => m.imdbID === movie.imdbID);\r\n      if (exists) return prev.filter(m => m.imdbID !== movie.imdbID);\r\n      // store minimal fields and full info optionally\r\n      return [movie, ...prev];\r\n    });\r\n  }\r\n\r\n  async function showDetails(imdbID) {\r\n    setLoading(true);\r\n    const detail = await getMovieById(imdbID);\r\n    setModalMovie(detail);\r\n    setLoading(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <header>\r\n        <h1>Movie Search & Favorites</h1>\r\n        <SearchBar onSearch={handleSearch} />\r\n      </header>\r\n\r\n      <main>\r\n        <section className=\"results\">\r\n          <h2>Results {query ? `for \"${query}\"` : ''}</h2>\r\n          {loading && <div className=\"loader\">Loadingâ€¦</div>}\r\n          {!loading && <MovieGrid movies={movies} favorites={favorites} onToggleFav={toggleFav} onShowDetails={showDetails} />}\r\n        </section>\r\n\r\n        <aside>\r\n          <Favorites favorites={favorites} onToggleFav={toggleFav} onShowDetails={showDetails} />\r\n        </aside>\r\n      </main>\r\n\r\n      <MovieModal movie={modalMovie} onClose={() => setModalMovie(null)} />\r\n\r\n      <footer>\r\n        <small>Built following the task spec.</small>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,UAAU,MAAM,yBAAyB;AAChD,SAASC,YAAY,EAAEC,YAAY,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnD,eAAe,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EAC5B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACc,MAAM,EAAEC,SAAS,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EAC1C,MAAM,CAACgB,SAAS,EAAEC,YAAY,CAAC,GAAGjB,QAAQ,CAAC,MAAM;IAC/C,IAAI;MACF,OAAOkB,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;IACzD,CAAC,CAAC,MAAM;MAAE,OAAO,EAAE;IAAE;EACvB,CAAC,CAAC;EACF,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGvB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACwB,UAAU,EAAEC,aAAa,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EAElDC,SAAS,CAAC,MAAM;IACdmB,YAAY,CAACM,OAAO,CAAC,MAAM,EAAER,IAAI,CAACS,SAAS,CAACX,SAAS,CAAC,CAAC;EACzD,CAAC,EAAE,CAACA,SAAS,CAAC,CAAC;EAEf,eAAeY,YAAYA,CAACC,CAAC,EAAE;IAC7BhB,QAAQ,CAACgB,CAAC,CAAC;IACXN,UAAU,CAAC,IAAI,CAAC;IAChBR,SAAS,CAAC,EAAE,CAAC;IACb,MAAMe,GAAG,GAAG,MAAMxB,YAAY,CAACuB,CAAC,CAAC;IACjC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,QAAQ,KAAK,OAAO,EAAE;MACpCR,UAAU,CAAC,KAAK,CAAC;MACjBS,KAAK,CAAC,CAAAF,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEG,KAAK,KAAI,iBAAiB,CAAC,CAAC,CAAC;MACxC;IACF;IACA;IACA,MAAMC,cAAc,GAAGJ,GAAG,CAACK,MAAM,CAACC,GAAG,CAACC,IAAI,IAAI9B,YAAY,CAAC8B,IAAI,CAACC,MAAM,CAAC,CAAC;IACxE,MAAMC,OAAO,GAAG,MAAMC,OAAO,CAACC,GAAG,CAACP,cAAc,CAAC;IACjDnB,SAAS,CAACwB,OAAO,CAAC;IAClBhB,UAAU,CAAC,KAAK,CAAC;EACnB;EAEA,SAASmB,SAASA,CAACC,KAAK,EAAE;IACxB1B,YAAY,CAAC2B,IAAI,IAAI;MACnB,MAAMC,MAAM,GAAGD,IAAI,CAACE,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACT,MAAM,KAAKK,KAAK,CAACL,MAAM,CAAC;MACxD,IAAIO,MAAM,EAAE,OAAOD,IAAI,CAACI,MAAM,CAACD,CAAC,IAAIA,CAAC,CAACT,MAAM,KAAKK,KAAK,CAACL,MAAM,CAAC;MAC9D;MACA,OAAO,CAACK,KAAK,EAAE,GAAGC,IAAI,CAAC;IACzB,CAAC,CAAC;EACJ;EAEA,eAAeK,WAAWA,CAACX,MAAM,EAAE;IACjCf,UAAU,CAAC,IAAI,CAAC;IAChB,MAAM2B,MAAM,GAAG,MAAM3C,YAAY,CAAC+B,MAAM,CAAC;IACzCb,aAAa,CAACyB,MAAM,CAAC;IACrB3B,UAAU,CAAC,KAAK,CAAC;EACnB;EAEA,oBACEd,OAAA;IAAK0C,SAAS,EAAC,KAAK;IAAAC,QAAA,gBAClB3C,OAAA;MAAA2C,QAAA,gBACE3C,OAAA;QAAA2C,QAAA,EAAI;MAAwB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACjC/C,OAAA,CAACP,SAAS;QAACuD,QAAQ,EAAE7B;MAAa;QAAAyB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/B,CAAC,eAET/C,OAAA;MAAA2C,QAAA,gBACE3C,OAAA;QAAS0C,SAAS,EAAC,SAAS;QAAAC,QAAA,gBAC1B3C,OAAA;UAAA2C,QAAA,GAAI,UAAQ,EAACxC,KAAK,GAAG,QAAQA,KAAK,GAAG,GAAG,EAAE;QAAA;UAAAyC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,EAC/ClC,OAAO,iBAAIb,OAAA;UAAK0C,SAAS,EAAC,QAAQ;UAAAC,QAAA,EAAC;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,EACjD,CAAClC,OAAO,iBAAIb,OAAA,CAACN,SAAS;UAACW,MAAM,EAAEA,MAAO;UAACE,SAAS,EAAEA,SAAU;UAAC0C,WAAW,EAAEhB,SAAU;UAACiB,aAAa,EAAEV;QAAY;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7G,CAAC,eAEV/C,OAAA;QAAA2C,QAAA,eACE3C,OAAA,CAACL,SAAS;UAACY,SAAS,EAAEA,SAAU;UAAC0C,WAAW,EAAEhB,SAAU;UAACiB,aAAa,EAAEV;QAAY;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC,eAEP/C,OAAA,CAACJ,UAAU;MAACsC,KAAK,EAAEnB,UAAW;MAACoC,OAAO,EAAEA,CAAA,KAAMnC,aAAa,CAAC,IAAI;IAAE;MAAA4B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAErE/C,OAAA;MAAA2C,QAAA,eACE3C,OAAA;QAAA2C,QAAA,EAAO;MAA8B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV;AAAC7C,EAAA,CA1EuBD,GAAG;AAAAmD,EAAA,GAAHnD,GAAG;AAAA,IAAAmD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}